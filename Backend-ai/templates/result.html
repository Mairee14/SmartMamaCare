
{% extends "base.html" %}

{% block title %}Risk Assessment Result{% endblock %}

{% block extra_css %}
<style>
    .result {
        font-size: 24px;
        margin: 20px 0;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 5px;
        text-align: center;
    }
    .low-risk { background-color: #d4edda; color: #155724; }
    .mid-risk { background-color: #fff3cd; color: #856404; }
    .high-risk { background-color: #f8d7da; color: #721c24; }
    .risk-explanation { margin-top: 20px; }
</style>
{% endblock %}

{% block content %}
<h1 class="text-center mb-4">Risk Assessment Result</h1>
<div class="result {{ user_data['risk'].lower().replace(' ', '-') }}">
    Risk Level: {{ user_data['risk'] }}
</div>

<h2>Patient Details</h2>
<table class="table table-bordered">
    <tr><th>User ID</th><td>{{ user_data['user_id'] }}</td></tr>
    <tr><th>Name</th><td>{{ user_data['name'] }}</td></tr>
    <tr><th>Age</th><td>{{ user_data['age'] }}</td></tr>
    <tr><th>Systolic BP</th><td>{{ user_data['systolic_bp'] }}</td></tr>
    <tr><th>Diastolic BP</th><td>{{ user_data['diastolic_bp'] }}</td></tr>
    <tr><th>Blood Sugar</th><td>{{ user_data['bs'] }}</td></tr>
    <tr><th>Body Temperature</th><td>{{ user_data['body_temp'] }}</td></tr>
    <tr><th>Heart Rate</th><td>{{ user_data['heart_rate'] }}</td></tr>
</table>

<div class="risk-explanation">
    <h3>Understanding Your Risk Level</h3>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Risk Level</th>
                <th>Description</th>
                <th>Recommended Action</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Low Risk</td>
                <td>Your health indicators are within normal ranges.</td>
                <td>Continue with regular prenatal check-ups and maintain a healthy lifestyle.</td>
            </tr>
            <tr>
                <td>Mid Risk</td>
                <td>Some health indicators are slightly outside normal ranges.</td>
                <td>Consult with your healthcare provider for personalized advice and possibly more frequent check-ups.</td>
            </tr>
            <tr>
                <td>High Risk</td>
                <td>Several health indicators are outside normal ranges.</td>
                <td>Immediate consultation with a healthcare provider is recommended. Close monitoring may be necessary.</td>
            </tr>
        </tbody>
    </table>
</div>

<p class="mt-4 alert alert-info">
    <i class="fas fa-info-circle"></i> Please consult with a healthcare professional for personalized medical advice.
</p>
<a href="{{ url_for('appointment') }}" class="btn btn-primary w-100 mt-3">
    <i class="fas fa-calendar-plus"></i> Book Appointment
</a>
<a href="{{ url_for('index') }}" class="btn btn-secondary w-100 mt-3">
    <i class="fas fa-redo"></i> Make Another Prediction
</a>
{% endblock %}
